<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Урок 4. JavaScript — Асинхронность. Что такое Event Loop. JS setTimeout 0</title>
    <script src="async.js" defer></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            padding: 20px;
        }
        
        h1 {
            color: #333;
        }
        
        pre {
            background-color: #f7f7f7;
            border-radius: 5px;
            padding: 10px;
            overflow-x: auto;
        }
        
        code {
            display: block;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
<h1>Урок 4. JavaScript — Асинхронность. Что такое Event Loop. JS setTimeout 0</h1>

<p><strong>Асинхронность:</strong></p>
JavaScript является однопоточным языком программирования, однако механизм асинхронности позволяет обрабатывать события параллельно основному потоку исполнения программы. Благодаря этому интерфейс приложения остаётся отзывчивым даже во время длительных операций.</p>

<p><strong>Event Loop:</strong></p>
Event loop ("цикл обработки событий") — это концепция управления выполнением задач в JavaScript. Его основная задача заключается в управлении очередью заданий (task queue), позволяющей исполнять код последовательно, обеспечивая отсутствие блокировки основного потока интерфейса браузера или сервера Node.js.</p>

<p>Простое представление цикла обработки событий выглядит следующим образом:</p>
<ol>
<li>Выполнение синхронного кода.</li>
<li>Проверка наличия событий (например, кликов мыши, сетевых запросов).</li>
<li>Обработка очереди микрозаданий (microtasks): промисы и обработчики мутаторов.</li>
<li>Обработка макрозаданий (macrotasks): таймеры (setTimeout/setInterval), запросы ввода-вывода (I/O requests).</li>
<li>Возврат к пункту 1.</li>
</ol>

<p><strong>JS setTimeout 0:</strong></p>
Метод <code>setTimeout()</code> используется для планирования выполнения кода спустя определённое количество миллисекунд. Если указан нулевой интервал (<code>setTimeout(func, 0)</code>), выполнение отложенного кода произойдёт немедленно после завершения текущего кадра (turn) event loop'а, но перед началом следующего.</p>

<p>Пример использования:</p>
<pre><code class="language-javascript">console.log('Начало');

setTimeout(() => console.log('Промежуточное сообщение'), 0);

for(let i = 0; i < 1000000000; i++) {}

console.log('Конец');</code></pre>

<p>Результат выполнения:</p>
<ul>
<li>'Начало'</li>
<li>'Конец'</li>
<li>'Промежуточное сообщение'</li>
</ul>

<p>Объяснение: хотя метод <code>setTimeout</code> запланирован на ноль секунд, основной цикл JavaScript завершит выполнение синхронизированного блока кода (цикла for), и лишь потом запустится отложенный обработчик.</p>

</body>
</html>